---
title: 7.4 B树与B+树
---
## 1. B树及其操作

### 1. B树的定义与查找
m阶B树就是所有结点的平衡因子均等于0的m路平衡查找树

![](/assets/img/shujv20.jpg)

B树满足以下特性：

1. 每个结点至多有m棵子树，即至多有m-1个关键字
2. 若根节点不是叶结点，则至少有2棵子树，即至少有1个关键字
3. 除根节点以外的所有非叶结点至少有$\lceil m/2\rceil$棵字数，即至少有$\lceil m/2 \rceil-1$个关键字
>防止每个结点内关键字变少，树变高，查找更多层结点，导致效率降低
4. 所有结点的平衡因子均为0
5. 所有的叶结点均在同一层上，且不带信息
6. 关键字及子树的值均有序排列

:::tip
含有实际数据的末路结点称作终端结点，而查找失败的结点称为叶子结点

一般来说，叶结点都会被定义成失败结点，但是真题会定义为终端结点
:::

B树的高度：

最小高度：$(m-1)(1+m+m^2+\cdots+m^{h-1})=m^h-1$，即$h\geq\log_m(n+1)$

最大高度：

n个关键字的B树必有n+1个叶子结点

即$n+1\geq 2(\lceil m/2\rceil)^{h-1}$，即$h\leq\log_{\lceil m/2\rceil}\frac{n+1}{2}+1$

整理得，含有n个关键字的m叉B树：

$$log_m(n+1)\leq h \leq \log_{\lceil m/2\rceil}\frac{n+1}{2}+1$$

### 1. B树的插入与删除














