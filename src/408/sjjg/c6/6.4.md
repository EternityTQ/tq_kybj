---
title: 6.4 图的应用
---
## 1. 最小生成树

生成树：包含连通图中，所有顶点的一个极小连通子图

最小生成树(MST)，就是带权连通图中，总权值最小的生成树

最小生成树可能有多个，但是总权值是唯一且最小的

最小生成树的边数=顶点数-1

:::tip

如果一个连通图本身就是一棵树，则其最小生成树就是它本身

只有连通图才有生成树，非连通图只有生成树林

:::

### Prim算法

1. 从某一个结点开始构建生成树
2. 每次将代价最小的新顶点纳入生成树
3. 更新所有还未加入的顶点的代价值
4. 直到所有顶点都被纳入为止

时间复杂度：$O(|V|^2)$

适合边稠密图

### Kruskal算法(克鲁斯卡尔)

1. 选择一条权值最小的边，使得该边的两端连通(若原本以连通，则不选取)
2. 直到所有结点均连通为止

时间复杂度：$O(|E|log_2|E|)$

适合边稀疏图

## 2. 最短路径

### 1. 无权图的最短路径

直接用BFS即可

每次遍历时，记录直接前驱

遍历初始点路径设为0，其余情况遍历时，将路径数组对应值设为直接前驱+1

同时，还可以多加一个path数组，用于记录前驱节点 

### 2. Dijkstra(迪杰斯特拉)算法

回顾 带权路径长度：当图是带权图时，一条路径上所有边的权值之和

三个数组：Final、Dist、Path

Final用于记录各个顶点是否已找到最短路径

Dist用于记录抵达各个顶点的最短路径长度

Path用于记录路径上的前驱

循环该操作：循环遍历所有结点，找到尚未确定最短路径，且dist最小的顶点，令其Final值为true

检查该点所有邻接顶点，若其final值为false，更新dist和path的信息
:::tip
即，以该点为桥梁，检查经过该点去周围其他点是否更短

若从当前点前往目标顶点的dist比先前的dist更短，则更新目标点的dist为当前点的dist+目标点的边权值
:::

初始；若从$V_0$开始，令final[0]=true; dist[0]=0; path[0]=-1

其余顶点final[k]=false; dist[k]=arcs[0][k]; path[k]=arcs[0][k]==INF?-1:0

时间复杂度：$O(n^2)$

:::warning
DJ算法不适用带负权边的图
:::

也可以用DJ算法求所有顶点的最短路径，重复|V|次即可，总时间复杂度也是$O(|V|^3)$

### 3. Floyd(佛洛依德)算法

用于求解各个顶点的最短路径

使用了动态规划思想

使用两个矩阵

矩阵一用于记录各顶点之间的最短路径长度

矩阵二用于记录两个顶点之间的中转点

:::tip  核心思想
刚开始不准结点之间进行中转点

然后，加入$V_0$至允许中转点，允许其他结点通过$V_0$进行中转

然后，依次加入各个点进入中转点

直到所有结点均加入中转点列表，检查完毕为止
:::

若：$A^{(k-1)}[i][j]>A^{(k-1)}[i][k]+A^{(k-1)}[k][j]$

则：$A^{(k-1)}[i][j]=A^{(k-1)}[i][k]+A^{(k-1)}[k][j]$

$path^{(k)}[i][j]=k$

时间复杂度：$O(|V|^3)$

空间复杂度：$O(|V|^2)$

代码很好写

Floyd可以用于带负权值的带权图

但是不能解决带有负权回路的图

## 3. 有向无环图

有向无环图：一个有向图中不存在环，就是有向无环图，简称DAG图

有向无环图是描述含有公共子式的有效工具

顶点中不会出现重复的操作数(叶结点)
   
用有向无环图存储表达式表现不唯一

## 4. 拓扑排序

AOV网：描述一组有先后顺序的活动，用DAG图表示一个工程，顶点表示活动。

有向边$<V_i,V_j>$表示活动$V_i$必须先于活动$V_j$进行

拓扑排序：找到做事的先后顺序

1. 从AOV网中选择一个没有前驱的顶点并输出
2. 从网中删除该顶点和所有以它为起点的有向边
3. 重复1\~2，直到当前的AVO网为空或当前网中不存在无前驱的顶点(说明有回路)为止

每个AOV网都有一个或多个拓扑排序序列

:::tip
使用邻接表和邻接矩阵的时间复杂度不同
:::

**逆拓扑排序**：

和拓扑排序的顺序相反


### 使用DFS算法实现拓扑排序

## 5. 关键路径

AOE网：用DAG图，用顶点表示事件，用有向边表示活动，以边上的权值表示完成该活动所需的开销

1. 只有在某顶点所代表的事件发生后，才能发生其后继节点的活动
2. 只有某顶点所有前驱结点的活动均结束时，该顶点的事件才能发生
3. 有些活动可以并行发生

AOE网中，有且仅有一个入度为0的点，成为开始顶点(源点)，表示工程的开始

同时，有且只有一个出度为0的点，称为结束顶点(汇点)

关键路径：具有**最大**路径长度的路径

关键活动：关键路径上的活动

完成整个工程的最短时间就是关键路径的长度


| 定义 | 概念 |
| --- | --- |
| 事件最早发生时间 | |
| 事件最迟发生时间 | |
| 活动最早开始时间 | |
| 活动最迟开始时间 | | 
| 活动的时间余量 | |
| 关键活动 | |

:::tip
关键活动耗时增加，总工期将延长

缩短关键活动的时间，可以缩短工程总工期

当缩短到一定程度时，关键活动有可能会变成非关键活动

可能存在多条关键路径
:::







