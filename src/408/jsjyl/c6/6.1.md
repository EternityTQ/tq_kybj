---
title: 6.1 总线概述
---

## 1. 总线基本概念

### 1.1 总线定义

特点：分时、共享

分时：同一时刻仅允许有一个部件向总线发送消息

共享：多个部件可同时从总线上接收相同的信息

总线相对专线结构，减少了信息传输线的条数、更利于扩展外设，节省成本，简化设计

但是，减少了信息的传输速度，还可能出现冲突

### 1.2 总线设备

主设备：指发出总线请求并获得总线控制权的设备

从设备：指被主设备访问的设备

## 2. 总线的分类

数据通路：指数据流经的路径

总线：数据承载的媒介

```markmap
---
markmap:
  colorFreezeLevel: 3
---

# 总线分类

## 按功能层次分类

### 片内总线
- 芯片内部的总线

### 系统总线
- 计算机系统内各功能部件(如CPU、主存、IO接口)之间相互连接的总线
- 又可直接简称为==总线==
- 又可分为数据总线、地址总线、控制总线

#### 数据总线
- 用于各部件之间传输数据
- 位数反映一次能传送数据的位数
- 双向
- 与机器字长、存储字长有关

#### 地址总线
- 用于指出数据的地址
- 单向
- 与主存地址空间大小、设备数量一致

#### 控制总线
- 用于传输命令、反馈、定时信号
- 和==控制信息==有关
- 请求/允许、中段请求/回答
- 单根线单向

### IO总线
- 用于连接中低速的IO设备

### 通信总线
- 用于计算机系统之间或与其他系统之间传送信息
- 也称外部总线

## 按时序控制方式分类

### 同步总线
- 总线上链接的部件或设备通过统一的时钟进行同步

### 异步总线
- 没有统一的时钟

## 按数据传输方式分类

### 串行总线
- 可以一直提升速度
- 抗干扰能力强，节省布线空间
- 整体效率低于并行总线
- 适合长距离通信
- 一位一位传

### 并行总线
- 多位同时传
- 数据线间存在相互干扰
- 适合近距离通信
- ==不一定比串行快==


```
## 3. 系统总线的结构

### 3.1 单总线结构

CPU、主存、I/O设备(通过I/O接口)都挂在一组总线上

CPU与外设、主存等可以通过总线直接进行信息交换

优点：结构简单，成本低，易于接入新的设备

缺点：带宽低，负载重，多个部件只能争用唯一的总线，不支持并发传送操作

### 3.2 双总线结构

存在两条总线：

主存总线：用于在CPU、主存、通道之间传送数据

I/O总线：用于在多个外部设备与通道之间传送数据

优点：将低速外部设备从原单总线上分离出来

缺点：需要增加硬件设备

### 3.3 三总线结构

主存总线、I/O总线、DMA(直接内存访问)总线

:::tip 支持突发传送
突发传送即送出一个地址，收到多个地址连续的数据
:::

优点：提高了I/O设备的性能，使其更快地响应命令，提高系统吞吐量

缺点：任意时刻只能使用一条总线，系统工作效率较低

## 4. 总线的系统指标

:::danger
总线周期和总线时钟周期不是一码事

总线周期是指完成一次完整的数据传输所需的时间。

总线时钟周期是指时钟信号的一个完整周期。

:::

1. 总线时钟周期，即机器的时钟周期

2. 总线时钟频率，是时钟周期的倒数

3. 总线传输周期，指一次总线操作所需的时间，包括申请阶段(总线仲裁)、寻址阶段(指明地址)、传输阶段(主设备传输至从设备)和结束阶段(释放资源)。总线传输周期通常由若干总线时钟周期构成

4. 总线工作频率：总线各种操作的频率，为总线周期的倒数，指1秒内传送几次数据。

若总线周期=N个时钟周期，则总线工作频率=时钟频率/N；N可以小于1

5. 总线宽度：总线位宽，指总线能并行传输多少数据

6. 总线带宽：指单位时间内总线上==最多==可传输数据的位数。总线带宽=总线工作频率×(总线宽度/8)B/s

7. 总线复用：一种信号线在不同时间内传输不同的信息；节省空间和成本，但是速度下降

8. 信号线数：地址总线、数据总线、控制总线3种总线数的总和称为信号线数












