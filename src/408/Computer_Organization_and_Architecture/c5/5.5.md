---
title: 5.5 异常与中断机制
---

## 1. 异常与中断的基本概念

异常：CPU内部产生的意外事件，又称内中断

异常通常是在<u>执行指令过程中</u>，由CPU在内部检测到的，与正在执行的指令相关的同步事件

若异常处理成功，则<u>回到当前指令继续执行</u>

中断：<u>CPU外部设备</u>向CPU提出的中断请求，又称外中断

中断是一种典型的由外部设备触发的，与当前正在执行的指令无关的异步事件，<u>在当前指令执行完毕后</u>进行响应

中断响应结束后，<u>进入断点的下一条指令继续执行</u>

异常和中断的响应均由硬件实现

## 2. 异常和中断的分类

### 2.1 异常的分类

硬故障中断：由硬连线出现异常引起的，如存储器校验错、总线错误等

程序异常：又称软件中断，是指在CPU内部因执行指令而引起的异常事件，如整除0、溢出、断点、非法指令、地址越界、缺页等

异常的分类：

1. 故障

在引起故障的指令发生后、执行结束前被检测到的异常事件，经==异常处理程序==处理后，可以回到故障的指令继续执行，断点为当前发生故障的指令

如果无法通过异常处理程序恢复故障，如非法操作码、除数为0等，则不能回到原断点执行，必须终止进程的执行

2. 自陷

人为安排的异常事件，常用于程序调试，属于程序性异常

3. 终止

在执行指令的过程中发生了使计算机无法继续执行的硬件故障，如控制器出错、存储器校验错等，那么程序将无法继续执行，只能终止

此时，调出异常服务程序来重启系统

终止异常和外中断属于硬件中断

### 2.2 中断的分类

1. 可屏蔽中断

指可屏蔽中断请求线INTR向CPU发出的中断请求，可以被屏蔽，被屏蔽的中断请求将不被送到CPU

2. 不可屏蔽中断

指非常紧急的硬件故障，如电源掉电等，无法被屏蔽，以此让CPU快速处理这类紧急事件






