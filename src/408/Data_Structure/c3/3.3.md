---
title: 3.3 栈和队列的应用
---
## 栈的应用

括号匹配(略)

## 栈在表达式求值中的应用

中缀表达式：人们常用的算术表达式，有括号

逆波兰式：后缀表达式(更泛用)

波兰式：前缀表达式

中缀表达式：运算符在两个操作符的中间，例如a + b

后缀表达式：运算符在两个操作数后面，例如 a b +

前缀表达式：运算符在两个操作数前面，例如 + a b

| 中缀 | 后缀 | 前缀 |
| ---- | ---- | ---- |
| a + b | a b + | + a b |
| a + b - c | a b + c - | - + a b c |
| a + b - c * d | a b + c d * - | - + a b * c d |

### 后缀表达式的计算

如何保证手算和机算结果相同：

左优先原则：只要左边的运算符能先计算，就优先算左边的

用栈实现后缀表达式的**计算**：

①从左往右扫描下一个元素，直到处理完所有元素

② 若扫描到操作数则压入栈，并回到①；否则执行③

③若扫描到运算符，则弹出两个栈顶元素，执行相应运算，运算结果压回栈顶，回到①

### 前缀表达式的计算

右优先原则

用栈实现前缀表达式的计算：
① **从右往左**扫描下一个元素，直到处理完所有元素

② 若扫描到操作数，则压入栈，并回到①；否则执行③

③ 若扫描到运算符，则弹出两个栈顶元素，执行相应运算，运算结果压回栈顶，回到①

### 中缀表达式转后缀表达式

初始化一个栈，用来保存**暂时不能确定运算顺序的运算符**

**从左往右**处理各个元素，直到末尾。可能有三种情况：

① 遇到操作数：直接加入后缀表达式

② 遇到界限符：遇到"("直接入栈，遇到")"则依次弹出栈内运算符，并加入后缀表达式，直到弹出"("为止。注意括号不加入后缀表达式

③ 遇到运算符：依次弹出栈中优先级高于或等于当前运算符的所有运算符，并加入后缀表达式。若碰到"("或栈空则停止，然后**将当前遇到的运算符入栈**

>优先级就是乘除大于加减

按上述方法处理完所有字符后，将栈内剩余运算符依次弹出，并加入后缀表达式

### 中缀表达式的计算(用栈实现)

直接用转换和后缀计算的方法相结合

初始化两个栈：操作数栈、运算符栈

若扫描到操作数，压入操作数栈

若扫描到运算符或界限符，按照中缀转后缀相同的逻辑压入运算符栈(期间也会弹出运算符，每次弹出新的运算符时，就需要再弹出两个操作数栈的栈顶元素并执行相应计算，运算结果再压回操作数栈)

## 栈在递归中的应用

函数调用的特点：最后被调用的函数最先执行结束(LIFO)

函数调用时，需要用一个栈存储：

① 调用返回地址

② 实参

③ 局部变量

若一个函数、过程或数据结构的定义中又应用了它自身，则称为递归

递归算法可以将原始问题转换为属性相同，但规模较小的问题

例如：求正整数阶乘、求斐波那契数列

递归调用时，函数调用栈可被称为"递归工作栈"

递归算法通常效率低下，可能会包含大量重复计算(例如计算斐波那契数列)；同时，如果递归层数过多，可能会导致栈溢出

可以将递归算法转换为非递归算法，通常需要借助栈来实现

## 队列在层次遍历中的应用

树的层次遍历

依次将结点的左右孩子插入队列，然后自身出队

循环这个过程即可

图的广度优先遍历

>之后会详细学

## 队列在计算机系统中的应用

多个进程争抢着使用有限的系统资源时，FCFS是一种常用策略

FCFS和队列的思想相符啦

有两个方面：① 解决主机与外部设备之间速度不匹配的问题 ② 解决由多用户引起的资源竞争问题

eg. 打印数据缓冲区






